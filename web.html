<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L8Parser - Network Data Parsing Service</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
        }

        nav {
            background: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
        }

        nav a {
            text-decoration: none;
            color: #667eea;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: #667eea;
            color: white;
        }

        main {
            padding: 3rem 0;
        }

        section {
            background: white;
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
        }

        h2 {
            color: #667eea;
            font-size: 2rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid #667eea;
            padding-bottom: 0.5rem;
        }

        h3 {
            color: #555;
            font-size: 1.3rem;
            margin: 1.5rem 0 1rem 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .code-block {
            background: #2d3748;
            color: #f7fafc;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            line-height: 1.4;
        }

        .code-block code {
            color: #68d391;
        }

        .architecture-flow {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
        }

        .flow-step {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .flow-step:not(:last-child)::after {
            content: '→';
            position: absolute;
            right: -1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5rem;
            color: #667eea;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 0.8rem 2rem;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 600;
            transition: transform 0.3s ease;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .github-link {
            background: #333;
        }

        footer {
            background: #2d3748;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .stat-item {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            display: block;
        }

        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }

            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 1rem;
            }

            .architecture-flow {
                flex-direction: column;
            }

            .flow-step:not(:last-child)::after {
                content: '↓';
                right: 50%;
                top: 100%;
                transform: translateX(50%);
            }

            section {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>L8Parser</h1>
            <p>A powerful parsing service for processing network data in the Layer8 ecosystem</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#features">Features</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#usage">Usage</a></li>
                <li><a href="#testing">Testing</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview">
                <h2>Overview</h2>
                <p>L8Parser is part of the Layer8 network management ecosystem and serves as the data transformation layer between data collection and inventory management. It processes raw data collected by l8collector and applies configurable parsing rules to extract meaningful information that can be stored in the inventory.</p>
                
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-number">4</span>
                        <span>Rule Types</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">SNMP</span>
                        <span>MIB-2 Support</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">Go 1.23.8</span>
                        <span>Language</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">Real-time</span>
                        <span>Processing</span>
                    </div>
                </div>

                <a href="https://github.com/saichler/l8parser" class="btn github-link">View on GitHub</a>
                <a href="#installation" class="btn">Get Started</a>
            </section>

            <section id="features">
                <h2>Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Rule-Based Parsing</h4>
                        <p>Flexible parsing engine with pluggable rules that can be configured to handle various data transformation scenarios.</p>
                    </div>
                    <div class="feature-card">
                        <h4>SNMP Support</h4>
                        <p>Built-in support for SNMP data parsing with MIB-2 compatibility, including automatic vendor detection.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Protocol Agnostic</h4>
                        <p>Extensible architecture supporting multiple collection protocols beyond SNMP.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Real-time Processing</h4>
                        <p>Event-driven processing of collector jobs with concurrent rule execution for optimal performance.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Service Integration</h4>
                        <p>Seamless integration with Layer8 service architecture including inventory and collector services.</p>
                    </div>
                    <div class="feature-card">
                        <h4>Error Handling</h4>
                        <p>Comprehensive error handling with validation, parsing error recovery, and graceful degradation.</p>
                    </div>
                </div>
            </section>

            <section id="architecture">
                <h2>Architecture</h2>
                <h3>Processing Flow</h3>
                <div class="architecture-flow">
                    <div class="flow-step">
                        <strong>Job Reception</strong><br>
                        Receive completed collection jobs from l8collector
                    </div>
                    <div class="flow-step">
                        <strong>Rule Application</strong><br>
                        Apply configured parsing rules based on Pollaris configuration
                    </div>
                    <div class="flow-step">
                        <strong>Data Transformation</strong><br>
                        Transform raw data into structured objects
                    </div>
                    <div class="flow-step">
                        <strong>Inventory Update</strong><br>
                        Send parsed objects to inventory service
                    </div>
                </div>

                <h3>Core Components</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Parser Service</h4>
                        <p><code>go/parser/service/Parser.go</code> - Main parsing engine that processes jobs</p>
                    </div>
                    <div class="feature-card">
                        <h4>Parsing Service</h4>
                        <p><code>go/parser/service/ParsingService.go</code> - Service wrapper implementing Layer8 service interface</p>
                    </div>
                    <div class="feature-card">
                        <h4>Parsing Center</h4>
                        <p><code>go/parser/service/ParsingCenter.go</code> - Job completion handler and inventory integration</p>
                    </div>
                    <div class="feature-card">
                        <h4>Rule Engine</h4>
                        <p><code>go/parser/rules/</code> - Collection of parsing rules for data transformation</p>
                    </div>
                </div>

                <h3>Parsing Rules</h3>
                <ul>
                    <li><strong>Contains</strong> - Searches for specific text patterns in data</li>
                    <li><strong>Set</strong> - Directly sets values to object properties</li>
                    <li><strong>ToTable</strong> - Converts data into tabular format</li>
                    <li><strong>TableToMap</strong> - Transforms tables into key-value maps</li>
                </ul>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <h3>Prerequisites</h3>
                <ul>
                    <li>Go 1.23.8 or higher</li>
                    <li>Access to Layer8 ecosystem modules</li>
                </ul>

                <h3>Dependencies</h3>
                <p>The project depends on several Layer8 modules:</p>
                <ul>
                    <li><code>l8collector</code> - Data collection framework</li>
                    <li><code>l8inventory</code> - Inventory management</li>
                    <li><code>l8pollaris</code> - Polling configuration</li>
                    <li><code>l8types</code> - Common types and interfaces</li>
                    <li><code>l8services</code> - Service framework</li>
                </ul>

                <h3>Build</h3>
                <div class="code-block">
<code># Clone the repository
git clone https://github.com/saichler/l8parser

# Navigate to the Go module
cd l8parser/go

# Run the build script
./test.sh</code>
                </div>
                <p>The test.sh script will initialize Go modules, fetch dependencies, run security checks, execute unit tests with coverage, and generate coverage reports.</p>
            </section>

            <section id="usage">
                <h2>Usage</h2>
                <h3>Basic Integration</h3>
                <div class="code-block">
<code>import (
    "github.com/saichler/l8parser/go/parser/service"
    "github.com/saichler/l8types/go/ifs"
)

// Create and activate parsing service
parsingService := &service.ParsingService{}
err := parsingService.Activate(
    "parsing-service",
    serviceArea,
    resources,
    vnic,
    &NetworkDevice{}, // Target object type
    "Id",            // Primary key field
)</code>
                </div>

                <h3>SNMP Configuration Example</h3>
                <div class="code-block">
<code>// SNMP polling configuration with parsing rules
poll := &types.Poll{
    Name:      "systemMib",
    What:      ".1.3.6.1.2.1.1", // SNMP OID
    Operation: types.Operation_OMap,
    Attributes: []*types.Attribute{
        {
            PropertyId: "networkdevice.equipmentinfo.vendor",
            Rules: []*types.Rule{
                {
                    Name: "Contains",
                    Params: map[string]*types.Parameter{
                        "what":   {Value: "cisco"},
                        "from":   {Value: ".1.3.6.1.2.1.1.1.0"},
                        "output": {Value: "Cisco"},
                    },
                },
            },
        },
    },
}</code>
                </div>

                <h3>SNMP Support Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Vendor Detection</h4>
                        <p>Automatically detects device vendors (Cisco, Ubuntu Linux, etc.) from SNMP system descriptions</p>
                    </div>
                    <div class="feature-card">
                        <h4>System Information</h4>
                        <p>Extracts system names and descriptions from standard SNMP MIB-2 OIDs</p>
                    </div>
                </div>
            </section>

            <section id="testing">
                <h2>Testing</h2>
                <h3>Unit Tests</h3>
                <p>Run the comprehensive test suite:</p>
                <div class="code-block">
<code>cd go
./test.sh</code>
                </div>

                <h3>Test Coverage</h3>
                <p>The test script generates detailed coverage reports covering:</p>
                <ul>
                    <li>Parser engine functionality</li>
                    <li>Rule execution</li>
                    <li>Service integration</li>
                    <li>Error handling</li>
                </ul>

                <h3>Integration Testing</h3>
                <p>The test suite includes integration tests that:</p>
                <ul>
                    <li>Simulate SNMP device responses</li>
                    <li>Test end-to-end parsing workflows</li>
                    <li>Validate inventory integration</li>
                </ul>

                <h3>Performance Features</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>Concurrent Processing</h4>
                        <p>Parallel rule execution for optimal performance</p>
                    </div>
                    <div class="feature-card">
                        <h4>Memory Efficiency</h4>
                        <p>Streaming data processing to minimize memory usage</p>
                    </div>
                    <div class="feature-card">
                        <h4>Caching</h4>
                        <p>Rule compilation and object reflection caching</p>
                    </div>
                    <div class="feature-card">
                        <h4>Monitoring</h4>
                        <p>Processing time, throughput metrics, and health checks</p>
                    </div>
                </div>
            </section>

            <section>
                <h2>Related Projects</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4><a href="https://github.com/saichler/l8collector" style="color: #667eea;">l8collector</a></h4>
                        <p>Data collection framework</p>
                    </div>
                    <div class="feature-card">
                        <h4><a href="https://github.com/saichler/l8inventory" style="color: #667eea;">l8inventory</a></h4>
                        <p>Inventory management</p>
                    </div>
                    <div class="feature-card">
                        <h4><a href="https://github.com/saichler/l8pollaris" style="color: #667eea;">l8pollaris</a></h4>
                        <p>Polling configuration</p>
                    </div>
                    <div class="feature-card">
                        <h4><a href="https://github.com/saichler/layer8" style="color: #667eea;">layer8</a></h4>
                        <p>Core Layer8 framework</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 L8Parser. Licensed under the Apache License, Version 2.0.</p>
            <p>For issues, questions, or contributions, visit the <a href="https://github.com/saichler/l8parser" style="color: #667eea;">GitHub repository</a>.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add active state to navigation based on scroll position
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('nav a[href^="#"]');
            
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 100;
                if (window.scrollY >= sectionTop) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.style.background = '';
                link.style.color = '#667eea';
                if (link.getAttribute('href') === `#${current}`) {
                    link.style.background = '#667eea';
                    link.style.color = 'white';
                }
            });
        });
    </script>
</body>
</html>